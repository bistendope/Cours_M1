<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>kern/include/vnode.h</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.7' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<a id='TOP' name='TOP'></a><h2 class='header'><a href='../mains.html'>root</a>/<a href='../files/732.html'>kern</a>/<a href='../files/751.html'>include</a>/vnode.h</h2>
<em class='comment'>/* [&lt;][&gt;][^][v][top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
<hr />
<h2 class='header'><a href='../J/175.html' title='Multiple included from 16 places.'>INCLUDED FROM</a></h2>
<hr />
<pre>
<a id='L1' name='L1'></a>   1 <em class='comment'>/*</em>
<a id='L2' name='L2'></a>   2 <em class='comment'> * Copyright (c) 2000, 2001, 2002, 2003, 2004, 2005, 2008, 2009</em>
<a id='L3' name='L3'></a>   3 <em class='comment'> *      The President and Fellows of Harvard College.</em>
<a id='L4' name='L4'></a>   4 <em class='comment'> *</em>
<a id='L5' name='L5'></a>   5 <em class='comment'> * Redistribution and use in source and binary forms, with or without</em>
<a id='L6' name='L6'></a>   6 <em class='comment'> * modification, are permitted provided that the following conditions</em>
<a id='L7' name='L7'></a>   7 <em class='comment'> * are met:</em>
<a id='L8' name='L8'></a>   8 <em class='comment'> * 1. Redistributions of source code must retain the above copyright</em>
<a id='L9' name='L9'></a>   9 <em class='comment'> *    notice, this list of conditions and the following disclaimer.</em>
<a id='L10' name='L10'></a>  10 <em class='comment'> * 2. Redistributions in binary form must reproduce the above copyright</em>
<a id='L11' name='L11'></a>  11 <em class='comment'> *    notice, this list of conditions and the following disclaimer in the</em>
<a id='L12' name='L12'></a>  12 <em class='comment'> *    documentation and/or other materials provided with the distribution.</em>
<a id='L13' name='L13'></a>  13 <em class='comment'> * 3. Neither the name of the University nor the names of its contributors</em>
<a id='L14' name='L14'></a>  14 <em class='comment'> *    may be used to endorse or promote products derived from this software</em>
<a id='L15' name='L15'></a>  15 <em class='comment'> *    without specific prior written permission.</em>
<a id='L16' name='L16'></a>  16 <em class='comment'> *</em>
<a id='L17' name='L17'></a>  17 <em class='comment'> * THIS SOFTWARE IS PROVIDED BY THE UNIVERSITY AND CONTRIBUTORS ``AS IS'' AND</em>
<a id='L18' name='L18'></a>  18 <em class='comment'> * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</em>
<a id='L19' name='L19'></a>  19 <em class='comment'> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</em>
<a id='L20' name='L20'></a>  20 <em class='comment'> * ARE DISCLAIMED.  IN NO EVENT SHALL THE UNIVERSITY OR CONTRIBUTORS BE LIABLE</em>
<a id='L21' name='L21'></a>  21 <em class='comment'> * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</em>
<a id='L22' name='L22'></a>  22 <em class='comment'> * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS</em>
<a id='L23' name='L23'></a>  23 <em class='comment'> * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</em>
<a id='L24' name='L24'></a>  24 <em class='comment'> * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT</em>
<a id='L25' name='L25'></a>  25 <em class='comment'> * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY</em>
<a id='L26' name='L26'></a>  26 <em class='comment'> * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF</em>
<a id='L27' name='L27'></a>  27 <em class='comment'> * SUCH DAMAGE.</em>
<a id='L28' name='L28'></a>  28 <em class='comment'> */</em>
<a id='L29' name='L29'></a>  29 
<a id='L30' name='L30'></a>  30 <em class='sharp'>#ifndef</em> <a href='../S/195.html#L31' title='Defined at 31 in kern/include/vnode.h.'>_VNODE_H_</a>
<a id='L31' name='L31'></a>  31 <em class='sharp'>#define</em> <a href='../S/195.html#L30' title='Referred from 30 in kern/include/vnode.h.'>_VNODE_H_</a>
<a id='L32' name='L32'></a>  32 
<a id='L33' name='L33'></a>  33 <em class='sharp'>#include</em> &lt;<a href='../I/45.html'>spinlock.h</a>&gt;
<a id='L34' name='L34'></a>  34 <strong class='reserved'>struct</strong> <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>;
<a id='L35' name='L35'></a>  35 <strong class='reserved'>struct</strong> <a href='../S/165.html#L42' title='Defined at 42 in kern/include/kern/stat.h.'>stat</a>;
<a id='L36' name='L36'></a>  36 
<a id='L37' name='L37'></a>  37 
<a id='L38' name='L38'></a>  38 <em class='comment'>/*</em>
<a id='L39' name='L39'></a>  39 <em class='comment'> * A struct vnode is an abstract representation of a file.</em>
<a id='L40' name='L40'></a>  40 <em class='comment'> *</em>
<a id='L41' name='L41'></a>  41 <em class='comment'> * It is an interface in the Java sense that allows the kernel's</em>
<a id='L42' name='L42'></a>  42 <em class='comment'> * filesystem-independent code to interact usefully with multiple sets</em>
<a id='L43' name='L43'></a>  43 <em class='comment'> * of filesystem code.</em>
<a id='L44' name='L44'></a>  44 <em class='comment'> */</em>
<a id='L45' name='L45'></a>  45 
<a id='L46' name='L46'></a>  46 <em class='comment'>/*</em>
<a id='L47' name='L47'></a>  47 <em class='comment'> * Abstract low-level file.</em>
<a id='L48' name='L48'></a>  48 <em class='comment'> *</em>
<a id='L49' name='L49'></a>  49 <em class='comment'> * Note: vn_fs may be null if the vnode refers to a device.</em>
<a id='L50' name='L50'></a>  50 <em class='comment'> */</em>
<a id='L51' name='L51'></a>  51 <strong class='reserved'>struct</strong> <a href='../R/2320.html' title='Multiple referred from 271 places.'>vnode</a> <em class='brace'>{</em>
<a id='L52' name='L52'></a>  52         <strong class='reserved'>int</strong> vn_refcount;                <em class='comment'>/* Reference count */</em>
<a id='L53' name='L53'></a>  53         <strong class='reserved'>struct</strong> <a href='../S/180.html#L58' title='Defined at 58 in kern/include/spinlock.h.'>spinlock</a> vn_countlock;   <em class='comment'>/* Lock for vn_refcount */</em>
<a id='L54' name='L54'></a>  54 
<a id='L55' name='L55'></a>  55         <strong class='reserved'>struct</strong> <a href='../S/150.html#L42' title='Defined at 42 in kern/include/fs.h.'>fs</a> *vn_fs;               <em class='comment'>/* Filesystem vnode belongs to */</em>
<a id='L56' name='L56'></a>  56 
<a id='L57' name='L57'></a>  57         <strong class='reserved'>void</strong> *vn_data;                  <em class='comment'>/* Filesystem-specific data */</em>
<a id='L58' name='L58'></a>  58 
<a id='L59' name='L59'></a>  59         <strong class='reserved'>const</strong> <strong class='reserved'>struct</strong> <a href='../S/195.html#L180' title='Defined at 180 in kern/include/vnode.h.'>vnode_ops</a> *vn_ops; <em class='comment'>/* Functions on this vnode */</em>
<a id='L60' name='L60'></a>  60 <em class='brace'>}</em>;
<a id='L61' name='L61'></a>  61 
<a id='L62' name='L62'></a>  62 <em class='comment'>/*</em>
<a id='L63' name='L63'></a>  63 <em class='comment'> * Abstract operations on a vnode.</em>
<a id='L64' name='L64'></a>  64 <em class='comment'> *</em>
<a id='L65' name='L65'></a>  65 <em class='comment'> * These are used in the form VOP_FOO(vnode, args), which are macros</em>
<a id='L66' name='L66'></a>  66 <em class='comment'> * that expands to vnode-&gt;vn_ops-&gt;vop_foo(vnode, args). The operations</em>
<a id='L67' name='L67'></a>  67 <em class='comment'> * "foo" are:</em>
<a id='L68' name='L68'></a>  68 <em class='comment'> *</em>
<a id='L69' name='L69'></a>  69 <em class='comment'> *    vop_eachopen    - Called on *each* open() of a file. Can be used to</em>
<a id='L70' name='L70'></a>  70 <em class='comment'> *                      reject illegal or undesired open modes. Note that</em>
<a id='L71' name='L71'></a>  71 <em class='comment'> *                      various operations can be performed without the</em>
<a id='L72' name='L72'></a>  72 <em class='comment'> *                      file actually being opened.</em>
<a id='L73' name='L73'></a>  73 <em class='comment'> *                      The vnode need not look at O_CREAT, O_EXCL, or</em>
<a id='L74' name='L74'></a>  74 <em class='comment'> *                      O_TRUNC, as these are handled in the VFS layer.</em>
<a id='L75' name='L75'></a>  75 <em class='comment'> *</em>
<a id='L76' name='L76'></a>  76 <em class='comment'> *                      VOP_EACHOPEN should not be called directly from</em>
<a id='L77' name='L77'></a>  77 <em class='comment'> *                      above the VFS layer - use vfs_open() to open vnodes.</em>
<a id='L78' name='L78'></a>  78 <em class='comment'> *</em>
<a id='L79' name='L79'></a>  79 <em class='comment'> *    vop_reclaim     - Called when vnode is no longer in use.</em>
<a id='L80' name='L80'></a>  80 <em class='comment'> *</em>
<a id='L81' name='L81'></a>  81 <em class='comment'> *****************************************</em>
<a id='L82' name='L82'></a>  82 <em class='comment'> *</em>
<a id='L83' name='L83'></a>  83 <em class='comment'> *    vop_read        - Read data from file to uio, at offset specified</em>
<a id='L84' name='L84'></a>  84 <em class='comment'> *                      in the uio, updating uio_resid to reflect the</em>
<a id='L85' name='L85'></a>  85 <em class='comment'> *                      amount read, and updating uio_offset to match.</em>
<a id='L86' name='L86'></a>  86 <em class='comment'> *                      Not allowed on directories or symlinks.</em>
<a id='L87' name='L87'></a>  87 <em class='comment'> *</em>
<a id='L88' name='L88'></a>  88 <em class='comment'> *    vop_readlink    - Read the contents of a symlink into a uio.</em>
<a id='L89' name='L89'></a>  89 <em class='comment'> *                      Not allowed on other types of object.</em>
<a id='L90' name='L90'></a>  90 <em class='comment'> *</em>
<a id='L91' name='L91'></a>  91 <em class='comment'> *    vop_getdirentry - Read a single filename from a directory into a</em>
<a id='L92' name='L92'></a>  92 <em class='comment'> *                      uio, choosing what name based on the offset</em>
<a id='L93' name='L93'></a>  93 <em class='comment'> *                      field in the uio, and updating that field.</em>
<a id='L94' name='L94'></a>  94 <em class='comment'> *                      Unlike with I/O on regular files, the value of</em>
<a id='L95' name='L95'></a>  95 <em class='comment'> *                      the offset field is not interpreted outside</em>
<a id='L96' name='L96'></a>  96 <em class='comment'> *                      the filesystem and thus need not be a byte</em>
<a id='L97' name='L97'></a>  97 <em class='comment'> *                      count. However, the uio_resid field should be</em>
<a id='L98' name='L98'></a>  98 <em class='comment'> *                      handled in the normal fashion.</em>
<a id='L99' name='L99'></a>  99 <em class='comment'> *                      On non-directory objects, return ENOTDIR.</em>
<a id='L100' name='L100'></a> 100 <em class='comment'> *</em>
<a id='L101' name='L101'></a> 101 <em class='comment'> *    vop_write       - Write data from uio to file at offset specified</em>
<a id='L102' name='L102'></a> 102 <em class='comment'> *                      in the uio, updating uio_resid to reflect the</em>
<a id='L103' name='L103'></a> 103 <em class='comment'> *                      amount written, and updating uio_offset to match.</em>
<a id='L104' name='L104'></a> 104 <em class='comment'> *                      Not allowed on directories or symlinks.</em>
<a id='L105' name='L105'></a> 105 <em class='comment'> *</em>
<a id='L106' name='L106'></a> 106 <em class='comment'> *    vop_ioctl       - Perform ioctl operation OP on file using data</em>
<a id='L107' name='L107'></a> 107 <em class='comment'> *                      DATA. The interpretation of the data is specific</em>
<a id='L108' name='L108'></a> 108 <em class='comment'> *                      to each ioctl.</em>
<a id='L109' name='L109'></a> 109 <em class='comment'> *</em>
<a id='L110' name='L110'></a> 110 <em class='comment'> *    vop_stat        - Return info about a file. The pointer is a</em>
<a id='L111' name='L111'></a> 111 <em class='comment'> *                      pointer to struct stat; see kern/stat.h.</em>
<a id='L112' name='L112'></a> 112 <em class='comment'> *</em>
<a id='L113' name='L113'></a> 113 <em class='comment'> *    vop_gettype     - Return type of file. The values for file types</em>
<a id='L114' name='L114'></a> 114 <em class='comment'> *                      are in kern/stattypes.h.</em>
<a id='L115' name='L115'></a> 115 <em class='comment'> *</em>
<a id='L116' name='L116'></a> 116 <em class='comment'> *    vop_isseekable  - Check if this file is seekable. All regular files</em>
<a id='L117' name='L117'></a> 117 <em class='comment'> *                      and directories are seekable, but some devices are</em>
<a id='L118' name='L118'></a> 118 <em class='comment'> *                      not.</em>
<a id='L119' name='L119'></a> 119 <em class='comment'> *</em>
<a id='L120' name='L120'></a> 120 <em class='comment'> *    vop_fsync       - Force any dirty buffers associated with this file</em>
<a id='L121' name='L121'></a> 121 <em class='comment'> *                      to stable storage.</em>
<a id='L122' name='L122'></a> 122 <em class='comment'> *</em>
<a id='L123' name='L123'></a> 123 <em class='comment'> *    vop_mmap        - Map file into memory. If you implement this</em>
<a id='L124' name='L124'></a> 124 <em class='comment'> *                      feature, you're responsible for choosing the</em>
<a id='L125' name='L125'></a> 125 <em class='comment'> *                      arguments for this operation.</em>
<a id='L126' name='L126'></a> 126 <em class='comment'> *</em>
<a id='L127' name='L127'></a> 127 <em class='comment'> *    vop_truncate    - Forcibly set size of file to the length passed</em>
<a id='L128' name='L128'></a> 128 <em class='comment'> *                      in, discarding any excess blocks.</em>
<a id='L129' name='L129'></a> 129 <em class='comment'> *</em>
<a id='L130' name='L130'></a> 130 <em class='comment'> *    vop_namefile    - Compute pathname relative to filesystem root</em>
<a id='L131' name='L131'></a> 131 <em class='comment'> *                      of the file and copy to the specified</em>
<a id='L132' name='L132'></a> 132 <em class='comment'> *                      uio. Need not work on objects that are not</em>
<a id='L133' name='L133'></a> 133 <em class='comment'> *                      directories.</em>
<a id='L134' name='L134'></a> 134 <em class='comment'> *</em>
<a id='L135' name='L135'></a> 135 <em class='comment'> *****************************************</em>
<a id='L136' name='L136'></a> 136 <em class='comment'> *</em>
<a id='L137' name='L137'></a> 137 <em class='comment'> *    vop_creat       - Create a regular file named NAME in the passed</em>
<a id='L138' name='L138'></a> 138 <em class='comment'> *                      directory DIR. If boolean EXCL is true, fail if</em>
<a id='L139' name='L139'></a> 139 <em class='comment'> *                      the file already exists; otherwise, use the</em>
<a id='L140' name='L140'></a> 140 <em class='comment'> *                      existing file if there is one. Hand back the</em>
<a id='L141' name='L141'></a> 141 <em class='comment'> *                      vnode for the file as per vop_lookup.</em>
<a id='L142' name='L142'></a> 142 <em class='comment'> *</em>
<a id='L143' name='L143'></a> 143 <em class='comment'> *    vop_symlink     - Create symlink named NAME in the passed directory,</em>
<a id='L144' name='L144'></a> 144 <em class='comment'> *                      with contents CONTENTS.</em>
<a id='L145' name='L145'></a> 145 <em class='comment'> *</em>
<a id='L146' name='L146'></a> 146 <em class='comment'> *    vop_mkdir       - Make directory NAME in the passed directory PARENTDIR.</em>
<a id='L147' name='L147'></a> 147 <em class='comment'> *</em>
<a id='L148' name='L148'></a> 148 <em class='comment'> *    vop_link        - Create hard link, with name NAME, to file FILE</em>
<a id='L149' name='L149'></a> 149 <em class='comment'> *                      in the passed directory DIR.</em>
<a id='L150' name='L150'></a> 150 <em class='comment'> *</em>
<a id='L151' name='L151'></a> 151 <em class='comment'> *    vop_remove      - Delete non-directory object NAME from passed</em>
<a id='L152' name='L152'></a> 152 <em class='comment'> *                      directory. If NAME refers to a directory,</em>
<a id='L153' name='L153'></a> 153 <em class='comment'> *                      return EISDIR. If passed vnode is not a</em>
<a id='L154' name='L154'></a> 154 <em class='comment'> *                      directory, return ENOTDIR.</em>
<a id='L155' name='L155'></a> 155 <em class='comment'> *</em>
<a id='L156' name='L156'></a> 156 <em class='comment'> *    vop_rmdir       - Delete directory object NAME from passed</em>
<a id='L157' name='L157'></a> 157 <em class='comment'> *                      directory.</em>
<a id='L158' name='L158'></a> 158 <em class='comment'> *</em>
<a id='L159' name='L159'></a> 159 <em class='comment'> *    vop_rename      - Rename file NAME1 in directory VN1 to be</em>
<a id='L160' name='L160'></a> 160 <em class='comment'> *                      file NAME2 in directory VN2.</em>
<a id='L161' name='L161'></a> 161 <em class='comment'> *</em>
<a id='L162' name='L162'></a> 162 <em class='comment'> *****************************************</em>
<a id='L163' name='L163'></a> 163 <em class='comment'> *</em>
<a id='L164' name='L164'></a> 164 <em class='comment'> *    vop_lookup      - Parse PATHNAME relative to the passed directory</em>
<a id='L165' name='L165'></a> 165 <em class='comment'> *                      DIR, and hand back the vnode for the file it</em>
<a id='L166' name='L166'></a> 166 <em class='comment'> *                      refers to. May destroy PATHNAME. Should increment</em>
<a id='L167' name='L167'></a> 167 <em class='comment'> *                      refcount on vnode handed back.</em>
<a id='L168' name='L168'></a> 168 <em class='comment'> *</em>
<a id='L169' name='L169'></a> 169 <em class='comment'> *    vop_lookparent  - Parse PATHNAME relative to the passed directory</em>
<a id='L170' name='L170'></a> 170 <em class='comment'> *                      DIR, and hand back (1) the vnode for the</em>
<a id='L171' name='L171'></a> 171 <em class='comment'> *                      parent directory of the file it refers to, and</em>
<a id='L172' name='L172'></a> 172 <em class='comment'> *                      (2) the last component of the filename, copied</em>
<a id='L173' name='L173'></a> 173 <em class='comment'> *                      into kernel buffer BUF with max length LEN. May</em>
<a id='L174' name='L174'></a> 174 <em class='comment'> *                      destroy PATHNAME. Should increment refcount on</em>
<a id='L175' name='L175'></a> 175 <em class='comment'> *                      vnode handed back.</em>
<a id='L176' name='L176'></a> 176 <em class='comment'> */</em>
<a id='L177' name='L177'></a> 177 
<a id='L178' name='L178'></a> 178 <em class='sharp'>#define</em> <a href='../R/689.html' title='Multiple referred from 8 places.'>VOP_MAGIC</a>       0xa2b3c4d5
<a id='L179' name='L179'></a> 179 
<a id='L180' name='L180'></a> 180 <strong class='reserved'>struct</strong> <a href='../R/2326.html' title='Multiple referred from 14 places.'>vnode_ops</a> <em class='brace'>{</em>
<a id='L181' name='L181'></a> 181         <strong class='reserved'>unsigned</strong> <strong class='reserved'>long</strong> vop_magic;        <em class='comment'>/* should always be VOP_MAGIC */</em>
<a id='L182' name='L182'></a> 182 
<a id='L183' name='L183'></a> 183         <strong class='reserved'>int</strong> (*vop_eachopen)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *object, <strong class='reserved'>int</strong> flags_from_open);
<a id='L184' name='L184'></a> 184         <strong class='reserved'>int</strong> (*vop_reclaim)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a>);
<a id='L185' name='L185'></a> 185 
<a id='L186' name='L186'></a> 186 
<a id='L187' name='L187'></a> 187         <strong class='reserved'>int</strong> (*vop_read)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L43' title='Defined at 43 in userland/testbin/frack/ops.c.'>file</a>, <strong class='reserved'>struct</strong> <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a> *<a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>);
<a id='L188' name='L188'></a> 188         <strong class='reserved'>int</strong> (*vop_readlink)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *link, <strong class='reserved'>struct</strong> <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a> *<a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>);
<a id='L189' name='L189'></a> 189         <strong class='reserved'>int</strong> (*vop_getdirentry)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L50' title='Defined at 50 in userland/testbin/frack/ops.c.'>dir</a>, <strong class='reserved'>struct</strong> <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a> *<a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>);
<a id='L190' name='L190'></a> 190         <strong class='reserved'>int</strong> (*vop_write)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L43' title='Defined at 43 in userland/testbin/frack/ops.c.'>file</a>, <strong class='reserved'>struct</strong> <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a> *<a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>);
<a id='L191' name='L191'></a> 191         <strong class='reserved'>int</strong> (*vop_ioctl)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *object, <strong class='reserved'>int</strong> op, <a href='../S/190.html#L91' title='Defined at 91 in kern/include/types.h.'>userptr_t</a> data);
<a id='L192' name='L192'></a> 192         <strong class='reserved'>int</strong> (*vop_stat)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *object, <strong class='reserved'>struct</strong> <a href='../S/165.html#L42' title='Defined at 42 in kern/include/kern/stat.h.'>stat</a> *statbuf);
<a id='L193' name='L193'></a> 193         <strong class='reserved'>int</strong> (*vop_gettype)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *object, <a href='../D/2074.html' title='Multiple defined in 2 places.'>mode_t</a> *result);
<a id='L194' name='L194'></a> 194         <a href='../D/1356.html' title='Multiple defined in 4 places.'>bool</a> (*vop_isseekable)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *object);
<a id='L195' name='L195'></a> 195         <strong class='reserved'>int</strong> (*vop_fsync)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *object);
<a id='L196' name='L196'></a> 196         <strong class='reserved'>int</strong> (*vop_mmap)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L43' title='Defined at 43 in userland/testbin/frack/ops.c.'>file</a> <em class='comment'>/* add stuff */</em>);
<a id='L197' name='L197'></a> 197         <strong class='reserved'>int</strong> (*vop_truncate)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L43' title='Defined at 43 in userland/testbin/frack/ops.c.'>file</a>, <a href='../D/2103.html' title='Multiple defined in 2 places.'>off_t</a> len);
<a id='L198' name='L198'></a> 198         <strong class='reserved'>int</strong> (*vop_namefile)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L43' title='Defined at 43 in userland/testbin/frack/ops.c.'>file</a>, <strong class='reserved'>struct</strong> <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a> *<a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>);
<a id='L199' name='L199'></a> 199 
<a id='L200' name='L200'></a> 200 
<a id='L201' name='L201'></a> 201         <strong class='reserved'>int</strong> (*vop_creat)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L50' title='Defined at 50 in userland/testbin/frack/ops.c.'>dir</a>,
<a id='L202' name='L202'></a> 202                          <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name, <a href='../D/1356.html' title='Multiple defined in 4 places.'>bool</a> excl, <a href='../D/2074.html' title='Multiple defined in 2 places.'>mode_t</a> mode,
<a id='L203' name='L203'></a> 203                          <strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> **result);
<a id='L204' name='L204'></a> 204         <strong class='reserved'>int</strong> (*vop_symlink)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L50' title='Defined at 50 in userland/testbin/frack/ops.c.'>dir</a>,
<a id='L205' name='L205'></a> 205                            <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *contents, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name);
<a id='L206' name='L206'></a> 206         <strong class='reserved'>int</strong> (*vop_mkdir)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *parentdir,
<a id='L207' name='L207'></a> 207                          <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name, <a href='../D/2074.html' title='Multiple defined in 2 places.'>mode_t</a> mode);
<a id='L208' name='L208'></a> 208         <strong class='reserved'>int</strong> (*vop_link)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L50' title='Defined at 50 in userland/testbin/frack/ops.c.'>dir</a>,
<a id='L209' name='L209'></a> 209                         <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name, <strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L43' title='Defined at 43 in userland/testbin/frack/ops.c.'>file</a>);
<a id='L210' name='L210'></a> 210         <strong class='reserved'>int</strong> (*vop_remove)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L50' title='Defined at 50 in userland/testbin/frack/ops.c.'>dir</a>,
<a id='L211' name='L211'></a> 211                           <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name);
<a id='L212' name='L212'></a> 212         <strong class='reserved'>int</strong> (*vop_rmdir)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L50' title='Defined at 50 in userland/testbin/frack/ops.c.'>dir</a>,
<a id='L213' name='L213'></a> 213                          <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name);
<a id='L214' name='L214'></a> 214 
<a id='L215' name='L215'></a> 215         <strong class='reserved'>int</strong> (*vop_rename)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn1, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name1,
<a id='L216' name='L216'></a> 216                           <strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn2, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name2);
<a id='L217' name='L217'></a> 217 
<a id='L218' name='L218'></a> 218 
<a id='L219' name='L219'></a> 219         <strong class='reserved'>int</strong> (*vop_lookup)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L50' title='Defined at 50 in userland/testbin/frack/ops.c.'>dir</a>,
<a id='L220' name='L220'></a> 220                           <strong class='reserved'>char</strong> *pathname, <strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> **result);
<a id='L221' name='L221'></a> 221         <strong class='reserved'>int</strong> (*vop_lookparent)(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L50' title='Defined at 50 in userland/testbin/frack/ops.c.'>dir</a>,
<a id='L222' name='L222'></a> 222                               <strong class='reserved'>char</strong> *pathname, <strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> **result,
<a id='L223' name='L223'></a> 223                               <strong class='reserved'>char</strong> *buf, <a href='../D/2492.html' title='Multiple defined in 2 places.'>size_t</a> len);
<a id='L224' name='L224'></a> 224 <em class='brace'>}</em>;
<a id='L225' name='L225'></a> 225 
<a id='L226' name='L226'></a> 226 <em class='sharp'>#define</em> <a href='../R/859.html' title='Multiple referred from 23 places.'>__VOP</a>(vn, sym) (<a href='../S/236.html#L130' title='Defined at 130 in kern/vfs/vnode.c.'>vnode_check</a>(vn, #sym), (vn)-&gt;vn_ops-&gt;vop_##sym)
<a id='L227' name='L227'></a> 227 
<a id='L228' name='L228'></a> 228 <em class='sharp'>#define</em> <a href='../S/235.html#L90' title='Referred from 90 in kern/vfs/vfspath.c.'>VOP_EACHOPEN</a>(vn, flags)         (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, eachopen)(vn, flags))
<a id='L229' name='L229'></a> 229 <em class='sharp'>#define</em> <a href='../S/236.html#L116' title='Referred from 116 in kern/vfs/vnode.c.'>VOP_RECLAIM</a>(vn)                 (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, reclaim)(vn))
<a id='L230' name='L230'></a> 230 
<a id='L231' name='L231'></a> 231 <em class='sharp'>#define</em> <a href='../R/692.html' title='Multiple referred from 7 places.'>VOP_READ</a>(vn, <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>)               (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, read)(vn, <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>))
<a id='L232' name='L232'></a> 232 <em class='sharp'>#define</em> <a href='../S/235.html#L266' title='Referred from 266 in kern/vfs/vfspath.c.'>VOP_READLINK</a>(vn, <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>)           (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, readlink)(vn, <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>))
<a id='L233' name='L233'></a> 233 <em class='sharp'>#define</em> VOP_GETDIRENTRY(vn, <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>)        (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn,getdirentry)(vn, <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>))
<a id='L234' name='L234'></a> 234 <em class='sharp'>#define</em> <a href='../R/700.html' title='Multiple referred from 3 places.'>VOP_WRITE</a>(vn, <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>)              (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, write)(vn, <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>))
<a id='L235' name='L235'></a> 235 <em class='sharp'>#define</em> VOP_IOCTL(vn, code, buf)        (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, ioctl)(vn,code,buf))
<a id='L236' name='L236'></a> 236 <em class='sharp'>#define</em> VOP_STAT(vn, ptr)               (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, <a href='../S/165.html#L42' title='Defined at 42 in kern/include/kern/stat.h.'>stat</a>)(vn, ptr))
<a id='L237' name='L237'></a> 237 <em class='sharp'>#define</em> <a href='../R/684.html' title='Multiple referred from 4 places.'>VOP_GETTYPE</a>(vn, result)         (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, gettype)(vn, result))
<a id='L238' name='L238'></a> 238 <em class='sharp'>#define</em> VOP_ISSEEKABLE(vn)              (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, isseekable)(vn))
<a id='L239' name='L239'></a> 239 <em class='sharp'>#define</em> <a href='../S/130.html#L121' title='Referred from 121 in kern/fs/sfs/sfs_fsops.c.'>VOP_FSYNC</a>(vn)                   (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, fsync)(vn))
<a id='L240' name='L240'></a> 240 <em class='sharp'>#define</em> VOP_MMAP(vn <em class='comment'>/*add stuff */</em>)     (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, mmap)(vn <em class='comment'>/*add stuff */</em>))
<a id='L241' name='L241'></a> 241 <em class='sharp'>#define</em> <a href='../S/235.html#L101' title='Referred from 101 in kern/vfs/vfspath.c.'>VOP_TRUNCATE</a>(vn, pos)           (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, truncate)(vn, pos))
<a id='L242' name='L242'></a> 242 <em class='sharp'>#define</em> <a href='../S/231.html#L178' title='Referred from 178 in kern/vfs/vfscwd.c.'>VOP_NAMEFILE</a>(vn, <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>)           (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, namefile)(vn, <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>))
<a id='L243' name='L243'></a> 243 
<a id='L244' name='L244'></a> 244 <em class='sharp'>#define</em> <a href='../S/235.html#L76' title='Referred from 76 in kern/vfs/vfspath.c.'>VOP_CREAT</a>(vn,nm,excl,mode,res)  (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, creat)(vn,nm,excl,mode,res))
<a id='L245' name='L245'></a> 245 <em class='sharp'>#define</em> <a href='../S/235.html#L242' title='Referred from 242 in kern/vfs/vfspath.c.'>VOP_SYMLINK</a>(vn, name, content)  (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, symlink)(vn, name, content))
<a id='L246' name='L246'></a> 246 <em class='sharp'>#define</em> <a href='../S/235.html#L288' title='Referred from 288 in kern/vfs/vfspath.c.'>VOP_MKDIR</a>(vn, name, mode)       (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, mkdir)(vn, name, mode))
<a id='L247' name='L247'></a> 247 <em class='sharp'>#define</em> <a href='../S/235.html#L215' title='Referred from 215 in kern/vfs/vfspath.c.'>VOP_LINK</a>(vn, name, vn2)         (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, link)(vn, name, vn2))
<a id='L248' name='L248'></a> 248 <em class='sharp'>#define</em> <a href='../S/235.html#L148' title='Referred from 148 in kern/vfs/vfspath.c.'>VOP_REMOVE</a>(vn, name)            (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, remove)(vn, name))
<a id='L249' name='L249'></a> 249 <em class='sharp'>#define</em> <a href='../S/235.html#L310' title='Referred from 310 in kern/vfs/vfspath.c.'>VOP_RMDIR</a>(vn, name)             (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, rmdir)(vn, name))
<a id='L250' name='L250'></a> 250 <em class='sharp'>#define</em> <a href='../S/235.html#L181' title='Referred from 181 in kern/vfs/vfspath.c.'>VOP_RENAME</a>(vn1,name1,vn2,name2)(<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn1,rename)(vn1,name1,vn2,name2))
<a id='L251' name='L251'></a> 251 
<a id='L252' name='L252'></a> 252 <em class='sharp'>#define</em> <a href='../S/234.html#L295' title='Referred from 295 in kern/vfs/vfslookup.c.'>VOP_LOOKUP</a>(vn, name, res)       (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn, lookup)(vn, name, res))
<a id='L253' name='L253'></a> 253 <em class='sharp'>#define</em> <a href='../S/234.html#L266' title='Referred from 266 in kern/vfs/vfslookup.c.'>VOP_LOOKPARENT</a>(vn,nm,res,bf,ln) (<a href='../S/195.html#L226' title='Defined at 226 in kern/include/vnode.h.'>__VOP</a>(vn,lookparent)(vn,nm,res,bf,ln))
<a id='L254' name='L254'></a> 254 
<a id='L255' name='L255'></a> 255 <em class='comment'>/*</em>
<a id='L256' name='L256'></a> 256 <em class='comment'> * Consistency check</em>
<a id='L257' name='L257'></a> 257 <em class='comment'> */</em>
<a id='L258' name='L258'></a> 258 <strong class='reserved'>void</strong> <a href='../S/236.html#L130' title='Defined at 130 in kern/vfs/vnode.c.'>vnode_check</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *op);
<a id='L259' name='L259'></a> 259 
<a id='L260' name='L260'></a> 260 <em class='comment'>/*</em>
<a id='L261' name='L261'></a> 261 <em class='comment'> * Reference count manipulation (handled above filesystem level)</em>
<a id='L262' name='L262'></a> 262 <em class='comment'> */</em>
<a id='L263' name='L263'></a> 263 <strong class='reserved'>void</strong> <a href='../S/236.html#L80' title='Defined at 80 in kern/vfs/vnode.c.'>vnode_incref</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *);
<a id='L264' name='L264'></a> 264 <strong class='reserved'>void</strong> <a href='../S/236.html#L95' title='Defined at 95 in kern/vfs/vnode.c.'>vnode_decref</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *);
<a id='L265' name='L265'></a> 265 
<a id='L266' name='L266'></a> 266 <em class='sharp'>#define</em> <a href='../R/685.html' title='Multiple referred from 16 places.'>VOP_INCREF</a>(vn)                  <a href='../S/236.html#L80' title='Defined at 80 in kern/vfs/vnode.c.'>vnode_incref</a>(vn)
<a id='L267' name='L267'></a> 267 <em class='sharp'>#define</em> <a href='../R/681.html' title='Multiple referred from 33 places.'>VOP_DECREF</a>(vn)                  <a href='../S/236.html#L95' title='Defined at 95 in kern/vfs/vnode.c.'>vnode_decref</a>(vn)
<a id='L268' name='L268'></a> 268 
<a id='L269' name='L269'></a> 269 <em class='comment'>/*</em>
<a id='L270' name='L270'></a> 270 <em class='comment'> * Vnode initialization (intended for use by filesystem code)</em>
<a id='L271' name='L271'></a> 271 <em class='comment'> * The reference count is initialized to 1.</em>
<a id='L272' name='L272'></a> 272 <em class='comment'> */</em>
<a id='L273' name='L273'></a> 273 <strong class='reserved'>int</strong> <a href='../S/236.html#L44' title='Defined at 44 in kern/vfs/vnode.c.'>vnode_init</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *, <strong class='reserved'>const</strong> <strong class='reserved'>struct</strong> <a href='../S/195.html#L180' title='Defined at 180 in kern/include/vnode.h.'>vnode_ops</a> *ops,
<a id='L274' name='L274'></a> 274                <strong class='reserved'>struct</strong> <a href='../S/150.html#L42' title='Defined at 42 in kern/include/fs.h.'>fs</a> *<a href='../S/150.html#L42' title='Defined at 42 in kern/include/fs.h.'>fs</a>, <strong class='reserved'>void</strong> *fsdata);
<a id='L275' name='L275'></a> 275 
<a id='L276' name='L276'></a> 276 <em class='comment'>/*</em>
<a id='L277' name='L277'></a> 277 <em class='comment'> * Vnode final cleanup (intended for use by filesystem code)</em>
<a id='L278' name='L278'></a> 278 <em class='comment'> * The reference count is asserted to be 1.</em>
<a id='L279' name='L279'></a> 279 <em class='comment'> */</em>
<a id='L280' name='L280'></a> 280 <strong class='reserved'>void</strong> <a href='../S/236.html#L62' title='Defined at 62 in kern/vfs/vnode.c.'>vnode_cleanup</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *);
<a id='L281' name='L281'></a> 281 
<a id='L282' name='L282'></a> 282 <em class='comment'>/*</em>
<a id='L283' name='L283'></a> 283 <em class='comment'> * Common stubs for vnode functions that just fail, in various ways.</em>
<a id='L284' name='L284'></a> 284 <em class='comment'> */</em>
<a id='L285' name='L285'></a> 285 <strong class='reserved'>int</strong> <a href='../S/232.html#L51' title='Defined at 51 in kern/vfs/vfsfail.c.'>vopfail_uio_notdir</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <strong class='reserved'>struct</strong> <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a> *<a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>);
<a id='L286' name='L286'></a> 286 <strong class='reserved'>int</strong> <a href='../S/232.html#L59' title='Defined at 59 in kern/vfs/vfsfail.c.'>vopfail_uio_isdir</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <strong class='reserved'>struct</strong> <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a> *<a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>);
<a id='L287' name='L287'></a> 287 <strong class='reserved'>int</strong> <a href='../S/232.html#L67' title='Defined at 67 in kern/vfs/vfsfail.c.'>vopfail_uio_inval</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <strong class='reserved'>struct</strong> <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a> *<a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>);
<a id='L288' name='L288'></a> 288 <strong class='reserved'>int</strong> <a href='../S/232.html#L75' title='Defined at 75 in kern/vfs/vfsfail.c.'>vopfail_uio_nosys</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <strong class='reserved'>struct</strong> <a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a> *<a href='../S/191.html#L73' title='Defined at 73 in kern/include/uio.h.'>uio</a>);
<a id='L289' name='L289'></a> 289 <strong class='reserved'>int</strong> <a href='../S/232.html#L86' title='Defined at 86 in kern/vfs/vfsfail.c.'>vopfail_mmap_isdir</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn <em class='comment'>/* add stuff */</em>);
<a id='L290' name='L290'></a> 290 <strong class='reserved'>int</strong> <a href='../S/232.html#L93' title='Defined at 93 in kern/vfs/vfsfail.c.'>vopfail_mmap_perm</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn <em class='comment'>/* add stuff */</em>);
<a id='L291' name='L291'></a> 291 <strong class='reserved'>int</strong> <a href='../S/232.html#L100' title='Defined at 100 in kern/vfs/vfsfail.c.'>vopfail_mmap_nosys</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn <em class='comment'>/* add stuff */</em>);
<a id='L292' name='L292'></a> 292 <strong class='reserved'>int</strong> <a href='../S/232.html#L110' title='Defined at 110 in kern/vfs/vfsfail.c.'>vopfail_truncate_isdir</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <a href='../D/2103.html' title='Multiple defined in 2 places.'>off_t</a> pos);
<a id='L293' name='L293'></a> 293 <strong class='reserved'>int</strong> <a href='../S/232.html#L121' title='Defined at 121 in kern/vfs/vfsfail.c.'>vopfail_creat_notdir</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name, <a href='../D/1356.html' title='Multiple defined in 4 places.'>bool</a> excl,
<a id='L294' name='L294'></a> 294                          <a href='../D/2074.html' title='Multiple defined in 2 places.'>mode_t</a> mode, <strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> **result);
<a id='L295' name='L295'></a> 295 <strong class='reserved'>int</strong> <a href='../S/232.html#L136' title='Defined at 136 in kern/vfs/vfsfail.c.'>vopfail_symlink_notdir</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *contents,
<a id='L296' name='L296'></a> 296                            <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name);
<a id='L297' name='L297'></a> 297 <strong class='reserved'>int</strong> <a href='../S/232.html#L146' title='Defined at 146 in kern/vfs/vfsfail.c.'>vopfail_symlink_nosys</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *contents,
<a id='L298' name='L298'></a> 298                           <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name);
<a id='L299' name='L299'></a> 299 <strong class='reserved'>int</strong> <a href='../S/232.html#L159' title='Defined at 159 in kern/vfs/vfsfail.c.'>vopfail_mkdir_notdir</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name, <a href='../D/2074.html' title='Multiple defined in 2 places.'>mode_t</a> mode);
<a id='L300' name='L300'></a> 300 <strong class='reserved'>int</strong> <a href='../S/232.html#L168' title='Defined at 168 in kern/vfs/vfsfail.c.'>vopfail_mkdir_nosys</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name, <a href='../D/2074.html' title='Multiple defined in 2 places.'>mode_t</a> mode);
<a id='L301' name='L301'></a> 301 <strong class='reserved'>int</strong> <a href='../S/232.html#L180' title='Defined at 180 in kern/vfs/vfsfail.c.'>vopfail_link_notdir</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L50' title='Defined at 50 in userland/testbin/frack/ops.c.'>dir</a>, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name,
<a id='L302' name='L302'></a> 302                         <strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L43' title='Defined at 43 in userland/testbin/frack/ops.c.'>file</a>);
<a id='L303' name='L303'></a> 303 <strong class='reserved'>int</strong> <a href='../S/232.html#L189' title='Defined at 189 in kern/vfs/vfsfail.c.'>vopfail_link_nosys</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L50' title='Defined at 50 in userland/testbin/frack/ops.c.'>dir</a>, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name,
<a id='L304' name='L304'></a> 304                        <strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *<a href='../S/653.html#L43' title='Defined at 43 in userland/testbin/frack/ops.c.'>file</a>);
<a id='L305' name='L305'></a> 305 <strong class='reserved'>int</strong> <a href='../S/232.html#L201' title='Defined at 201 in kern/vfs/vfsfail.c.'>vopfail_string_notdir</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name);
<a id='L306' name='L306'></a> 306 <strong class='reserved'>int</strong> <a href='../S/232.html#L209' title='Defined at 209 in kern/vfs/vfsfail.c.'>vopfail_string_nosys</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *name);
<a id='L307' name='L307'></a> 307 <strong class='reserved'>int</strong> <a href='../S/232.html#L220' title='Defined at 220 in kern/vfs/vfsfail.c.'>vopfail_rename_notdir</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *fromdir, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *fromname,
<a id='L308' name='L308'></a> 308                           <strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *todir, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *toname);
<a id='L309' name='L309'></a> 309 <strong class='reserved'>int</strong> <a href='../S/232.html#L231' title='Defined at 231 in kern/vfs/vfsfail.c.'>vopfail_rename_nosys</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *fromdir, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *fromname,
<a id='L310' name='L310'></a> 310                          <strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *todir, <strong class='reserved'>const</strong> <strong class='reserved'>char</strong> *toname);
<a id='L311' name='L311'></a> 311 <strong class='reserved'>int</strong> <a href='../S/232.html#L245' title='Defined at 245 in kern/vfs/vfsfail.c.'>vopfail_lookup_notdir</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <strong class='reserved'>char</strong> *path, <strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> **result);
<a id='L312' name='L312'></a> 312 <strong class='reserved'>int</strong> <a href='../S/232.html#L254' title='Defined at 254 in kern/vfs/vfsfail.c.'>vopfail_lookparent_notdir</a>(<strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> *vn, <strong class='reserved'>char</strong> *path,
<a id='L313' name='L313'></a> 313                               <strong class='reserved'>struct</strong> <a href='../S/195.html#L51' title='Defined at 51 in kern/include/vnode.h.'>vnode</a> **result, <strong class='reserved'>char</strong> *buf, <a href='../D/2492.html' title='Multiple defined in 2 places.'>size_t</a> len);
<a id='L314' name='L314'></a> 314 
<a id='L315' name='L315'></a> 315 
<a id='L316' name='L316'></a> 316 <em class='sharp'>#endif</em> <em class='comment'>/* _VNODE_H_ */</em>
</pre>
<hr />
<a id='BOTTOM' name='BOTTOM'></a>
<em class='comment'>/* [&lt;][&gt;][^][v]<a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
</body>
</html>
